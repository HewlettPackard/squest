{% load static %}
<!-- Main Sidebar Container -->
<aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="{% url 'home'%}" class="brand-link">
        <span class="brand-text text-teal align-middle">
            Squest<i class="fas fa-shopping-cart m-1"></i><i class="fas fa-arrow-right m-1"></i><i class="fas fa-chess-rook m-1"></i>
        </span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="info">
                <a href="#" class="d-block">{{ user.get_username }}</a>
            </div>
        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column nav-collapse-hide-child nav-child-indent" data-widget="treeview" role="menu">
                <!-- Add icons to the links using the .nav-icon class
                     with font-awesome or any other icon font library -->
                <li class="nav-item">
                    <a href="{% url 'customer_service_list'%}" class="nav-link {% if 'customer/catalog/service' in request.path %}active{% endif %}">
                        <i class="nav-icon fas fa-shopping-cart"></i>
                        <p>Catalog</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customer_request_list'%}" class="nav-link {% if 'customer/request' in request.path %}active{% endif %}">
                        <i class="nav-icon fas fa-list"></i>
                        <p>Requests</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customer_instance_list'%}" class="nav-link {% if 'customer/instance' in request.path %}active{% endif %}">
                        <i class="nav-icon fas fa-th"></i>
                        <p>Instances</p>
                    </a>
                </li>
                {# Admin side panel #}
                {% if user.is_superuser %}
                    <li class="nav-header">Admin</li>
                    <li class="nav-item menu-open">
                        <a href="{% url 'admin_request_list' %}" class="nav-link {% if 'admin/request' in request.path %}active{% endif %}">
                            <i class="nav-icon fas fa-list"></i>
                            <p>Requests</p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list' %}" class="nav-link {% if 'admin/request/' in request.path and not request.GET.state %}active{% endif %}">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>All</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list'%}?state=SUBMITTED" class="nav-link {% if request.GET.state == 'SUBMITTED' %}active{% endif %}">
                                    <i class="far fa-circle nav-icon text-info"></i>
                                    <p>Submitted</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list'%}?state=ACCEPTED" class="nav-link {% if request.GET.state == 'ACCEPTED' %}active{% endif %}">
                                    <i class="far fa-circle nav-icon text-primary"></i>
                                    <p>Accepted</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list'%}?state=NEED_INFO" class="nav-link {% if request.GET.state == 'NEED_INFO' %}active{% endif %}">
                                    <i class="far fa-circle nav-icon text-warning"></i>
                                    <p>Need info</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list'%}?state=COMPLETE" class="nav-link {% if request.GET.state == 'COMPLETE' %}active{% endif %}">
                                    <i class="far fa-circle nav-icon text-success"></i>
                                    <p>Complete</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list'%}?state=FAILED" class="nav-link {% if request.GET.state == 'FAILED' %}active{% endif %}">
                                    <i class="far fa-circle nav-icon text-danger"></i>
                                    <p>Failed</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'admin_request_list'%}?state=REJECTED" class="nav-link {% if request.GET.state == 'REJECTED' %}active{% endif %}">
                                    <i class="far fa-circle nav-icon text-muted"></i>
                                    <p>Rejected</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'admin_instance_list'%}" class="nav-link {% if 'admin/instance/' in request.path and not request.GET.state %}active{% endif %}">
                            <i class="nav-icon fas fa-th"></i>
                            <p>Instances</p>
                        </a>
                    </li>

                    <li class="nav-header">Settings</li>
                    <li class="nav-item">
                        <a href="{% url 'settings_catalog'%}" class="nav-link {% if 'settings/catalog' in request.path %}active{% endif %}">
                            <i class="nav-icon fas fa-shopping-cart"></i>
                            <p>Service catalog</p>
                        </a>
                    </li>
                    {#                    <li class="nav-item">#}
                    {#                        <a href="#" class="nav-link">#}
                    {#                            <i class="nav-icon fas fa-check"></i>#}
                    {#                            <p>Approvals#}
                    {##}
                    {#                            </p>#}
                    {#                        </a>#}
                    {#                    </li>#}
                    <li class="nav-item">
                        <a href="{% url 'tower'%}" class="nav-link {% if 'settings/tower' in request.path %}active{% endif %}">
                            <i class="nav-icon fab fa-adn"></i>
                            <p>Tower
                            </p>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
        <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
</aside>